<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Password</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</head>
<body>
  <div class="container" style="margin-top: 200px;width: 450px;">
    <form method='post' action="{% url 'change_pass' %}" onsubmit="return validatePassword()">
      {% csrf_token %}
      <!-- New Password input -->
      <div class="form-outline mb-4">
        <label class="form-label" for="Pass1" id="newpassword">New password</label>
        <input type="password" id="Pass1" class="form-control" name="password" />
        <label class="form-label" for="Pass2" id="newpassword">Confim password</label>
        <input type="password" id="Pass2" class="form-control" name="password" />
      </div>
      <!-- 2 column grid layout for inline styling -->
      <div class="row mb-4">
        <center>
          <button style="width: 99%;" type="submit" class="btn btn-primary btn-block mb-4">Confirm</button>
          <a class="btn btn-primary btn-block mb-4" style="width: 99%;color: white;text-decoration: none;" href="{% url 'admin_index' %}">Back to home</a>
        </center>
      </div>
    </form>

    <!-- JavaScript validation -->
    <script>
      function validatePassword() {
        var newPassword = document.getElementById("Pass1").value;
        var confirmPassword = document.getElementById("Pass2").value;

        // Two password field must be same
        if (newPassword != confirmPassword){
          alert("Enter same password in both fields")
          return false
        }
        //Password must be at least 8 characters long
        if (newPassword.length < 8) {
          alert("Password must be at least 8 characters long");
          return false;
        }
        alert("Password changed successfully")
        return true;
      }
    </script>
  </div>
</body>
</html>
